{"version":3,"sources":["CardStyleInterpolators.tsx"],"names":["Animated","isIphoneX","conditional","add","multiply","forHorizontalIOS","current","next","inverted","layouts","screen","translateFocused","progress","interpolate","inputRange","outputRange","width","extrapolate","translateUnfocused","overlayOpacity","shadowOpacity","cardStyle","transform","translateX","overlayStyle","opacity","shadowStyle","forVerticalIOS","translateY","height","forModalPresentationIOS","index","insets","isLandscape","topOffset","statusBarHeight","top","aspectRatio","scale","borderRadius","overflow","borderTopLeftRadius","borderTopRightRadius","marginTop","marginBottom","forFadeFromBottomAndroid","closing","forRevealFromBottomAndroid","containerTranslateY","cardTranslateYFocused","cardTranslateYUnfocused","containerStyle","forScaleFromCenterAndroid","forNoAnimation"],"mappings":"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","sourcesContent":["import { Animated } from 'react-native';\r\nimport { isIphoneX } from 'react-native-iphone-x-helper';\r\nimport conditional from '../utils/conditional';\r\nimport type {\r\n  StackCardInterpolationProps,\r\n  StackCardInterpolatedStyle,\r\n} from '../types';\r\n\r\nconst { add, multiply } = Animated;\r\n\r\n/**\r\n * Standard iOS-style slide in from the right.\r\n */\r\nexport function forHorizontalIOS({\r\n  current,\r\n  next,\r\n  inverted,\r\n  layouts: { screen },\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const translateFocused = multiply(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [screen.width, 0],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  const translateUnfocused = next\r\n    ? multiply(\r\n        next.progress.interpolate({\r\n          inputRange: [0, 1],\r\n          outputRange: [0, screen.width * -0.3],\r\n          extrapolate: 'clamp',\r\n        }),\r\n        inverted\r\n      )\r\n    : 0;\r\n\r\n  const overlayOpacity = current.progress.interpolate({\r\n    inputRange: [0, 1],\r\n    outputRange: [0, 0.07],\r\n    extrapolate: 'clamp',\r\n  });\r\n\r\n  const shadowOpacity = current.progress.interpolate({\r\n    inputRange: [0, 1],\r\n    outputRange: [0, 0.3],\r\n    extrapolate: 'clamp',\r\n  });\r\n\r\n  return {\r\n    cardStyle: {\r\n      transform: [\r\n        // Translation for the animation of the current card\r\n        { translateX: translateFocused },\r\n        // Translation for the animation of the card on top of this\r\n        { translateX: translateUnfocused },\r\n      ],\r\n    },\r\n    overlayStyle: { opacity: overlayOpacity },\r\n    shadowStyle: { shadowOpacity },\r\n  };\r\n}\r\n\r\n/**\r\n * Standard iOS-style slide in from the bottom (used for modals).\r\n */\r\nexport function forVerticalIOS({\r\n  current,\r\n  inverted,\r\n  layouts: { screen },\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const translateY = multiply(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [screen.height, 0],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  return {\r\n    cardStyle: {\r\n      transform: [\r\n        // Translation for the animation of the current card\r\n        { translateY },\r\n      ],\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Standard iOS-style modal animation in iOS 13.\r\n */\r\nexport function forModalPresentationIOS({\r\n  index,\r\n  current,\r\n  next,\r\n  inverted,\r\n  layouts: { screen },\r\n  insets,\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const isLandscape = screen.width > screen.height;\r\n  const topOffset = isLandscape ? 0 : 10;\r\n  const statusBarHeight = insets.top;\r\n  const aspectRatio = screen.height / screen.width;\r\n\r\n  const progress = add(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [0, 1],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    next\r\n      ? next.progress.interpolate({\r\n          inputRange: [0, 1],\r\n          outputRange: [0, 1],\r\n          extrapolate: 'clamp',\r\n        })\r\n      : 0\r\n  );\r\n\r\n  const translateY = multiply(\r\n    progress.interpolate({\r\n      inputRange: [0, 1, 2],\r\n      outputRange: [\r\n        screen.height,\r\n        index === 0 ? 0 : topOffset,\r\n        (index === 0 ? statusBarHeight : 0) - topOffset * aspectRatio,\r\n      ],\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  const overlayOpacity = progress.interpolate({\r\n    inputRange: [0, 1, 1.0001, 2],\r\n    outputRange: [0, 0.3, 1, 1],\r\n  });\r\n\r\n  const scale = isLandscape\r\n    ? 1\r\n    : progress.interpolate({\r\n        inputRange: [0, 1, 2],\r\n        outputRange: [\r\n          1,\r\n          1,\r\n          screen.width ? 1 - (topOffset * 2) / screen.width : 1,\r\n        ],\r\n      });\r\n\r\n  const borderRadius = isLandscape\r\n    ? 0\r\n    : index === 0\r\n    ? progress.interpolate({\r\n        inputRange: [0, 1, 1.0001, 2],\r\n        outputRange: [0, 0, isIphoneX() ? 38 : 0, 10],\r\n      })\r\n    : 10;\r\n\r\n  return {\r\n    cardStyle: {\r\n      overflow: 'hidden',\r\n      borderTopLeftRadius: borderRadius,\r\n      borderTopRightRadius: borderRadius,\r\n      marginTop: index === 0 ? 0 : statusBarHeight,\r\n      marginBottom: index === 0 ? 0 : topOffset,\r\n      transform: [{ translateY }, { scale }],\r\n    },\r\n    overlayStyle: { opacity: overlayOpacity },\r\n  };\r\n}\r\n\r\n/**\r\n * Standard Android-style fade in from the bottom for Android Oreo.\r\n */\r\nexport function forFadeFromBottomAndroid({\r\n  current,\r\n  inverted,\r\n  layouts: { screen },\r\n  closing,\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const translateY = multiply(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [screen.height * 0.08, 0],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  const opacity = conditional(\r\n    closing,\r\n    current.progress,\r\n    current.progress.interpolate({\r\n      inputRange: [0, 0.5, 0.9, 1],\r\n      outputRange: [0, 0.25, 0.7, 1],\r\n    })\r\n  );\r\n\r\n  return {\r\n    cardStyle: {\r\n      opacity,\r\n      transform: [{ translateY }],\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Standard Android-style reveal from the bottom for Android Pie.\r\n */\r\nexport function forRevealFromBottomAndroid({\r\n  current,\r\n  next,\r\n  inverted,\r\n  layouts: { screen },\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const containerTranslateY = multiply(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [screen.height, 0],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  const cardTranslateYFocused = multiply(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [screen.height * (95.9 / 100) * -1, 0],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    inverted\r\n  );\r\n\r\n  const cardTranslateYUnfocused = next\r\n    ? multiply(\r\n        next.progress.interpolate({\r\n          inputRange: [0, 1],\r\n          outputRange: [0, screen.height * (2 / 100) * -1],\r\n          extrapolate: 'clamp',\r\n        }),\r\n        inverted\r\n      )\r\n    : 0;\r\n\r\n  const overlayOpacity = current.progress.interpolate({\r\n    inputRange: [0, 0.36, 1],\r\n    outputRange: [0, 0.1, 0.1],\r\n    extrapolate: 'clamp',\r\n  });\r\n\r\n  return {\r\n    containerStyle: {\r\n      overflow: 'hidden',\r\n      transform: [{ translateY: containerTranslateY }],\r\n    },\r\n    cardStyle: {\r\n      transform: [\r\n        { translateY: cardTranslateYFocused },\r\n        { translateY: cardTranslateYUnfocused },\r\n      ],\r\n    },\r\n    overlayStyle: { opacity: overlayOpacity },\r\n  };\r\n}\r\n\r\n/**\r\n * Standard Android-style reveal from the bottom for Android Q.\r\n */\r\nexport function forScaleFromCenterAndroid({\r\n  current,\r\n  next,\r\n  closing,\r\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\r\n  const progress = add(\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [0, 1],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    next\r\n      ? next.progress.interpolate({\r\n          inputRange: [0, 1],\r\n          outputRange: [0, 1],\r\n          extrapolate: 'clamp',\r\n        })\r\n      : 0\r\n  );\r\n\r\n  const opacity = progress.interpolate({\r\n    inputRange: [0, 0.75, 0.875, 1, 1.0825, 1.2075, 2],\r\n    outputRange: [0, 0, 1, 1, 1, 1, 0],\r\n  });\r\n\r\n  const scale = conditional(\r\n    closing,\r\n    current.progress.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [0.9, 1],\r\n      extrapolate: 'clamp',\r\n    }),\r\n    progress.interpolate({\r\n      inputRange: [0, 1, 2],\r\n      outputRange: [0.85, 1, 1.1],\r\n    })\r\n  );\r\n\r\n  return {\r\n    containerStyle: {\r\n      opacity,\r\n      transform: [{ scale }],\r\n    },\r\n  };\r\n}\r\n\r\nexport function forNoAnimation(): StackCardInterpolatedStyle {\r\n  return {};\r\n}\r\n"]}